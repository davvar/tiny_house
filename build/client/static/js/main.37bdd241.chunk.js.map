{"version":3,"sources":["assets/images/tinyhouse-logo.png","Components/AppHeader/components/AppHeaderSkeleton.tsx","graphql/mutations/connectStripe.mutation.ts","graphql/mutations/createBooking.ts","graphql/mutations/disconnectStripe.mutation.ts","graphql/mutations/hostListing.mutation.ts","graphql/mutations/logIn.mutation.ts","graphql/mutations/logOut.mutation.ts","ViewerContext.tsx","utils/index.ts","Components/AppHeader/components/MenuItems.tsx","Components/AppHeader/AppHeader.tsx","Components/ErrorBanner.tsx","Components/ListingCard.tsx","Components/PageSkeleton.tsx","assets/images/cancun.jpg","assets/images/map-background.jpg","assets/images/san-fransisco.jpg","graphql/queries/listing.query.ts","graphql/queries/listings.query.ts","graphql/queries/user.query.ts","graphql/queries/userAuth.query.ts","assets/images/dubai.jpg","assets/images/london.jpg","assets/images/los-angeles.jpg","assets/images/toronto.jpg","pages/Home/components/HomeHero.tsx","pages/Home/components/HomeListings.tsx","pages/Listings/components/ListingsSkeleton.tsx","assets/images/listing-loading-card-cover.jpg","pages/Listings/components/ListingsFilters.tsx","pages/Listings/components/ListingsPagination.tsx","pages/Listings/Listings.page.tsx","pages/Home/components/HomeListingsSkeleton.tsx","pages/Home/Home.page.tsx","pages/Stripe.tsx","pages/Host.page.tsx","pages/Listing/components/ListingBookings.tsx","pages/Listing/components/ListingCreateBookingModal.tsx","pages/Listing/components/ListingCreateBookings.tsx","pages/Listing/components/ListingDetails.tsx","pages/Listing/Listing.page.tsx","pages/Login.page.tsx","assets/images/google_logo.jpg","pages/NotFound.page.tsx","pages/User/components/UserProfile.tsx","pages/User/components/UserBookings.tsx","pages/User/components/UserListings.tsx","pages/User/User.page.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["AppHeaderSkeleton","className","src","logo","alt","CONNECT_STRIPE","gql","CREATE_BOOKING","DISCONNECT_STRIPE","HOST_LISTING","LOG_IN","LOG_OUT","ViewerContext","createContext","useViewer","useContext","ViewerProvider","children","value","Provider","displaySuccessNotification","message","description","notification","placement","style","marginTop","displayErrorMessage","error","formatListingPrice","price","round","Math","iconColor","listingsFilter","listingType","Item","Menu","SubMenu","MenuItems","setViewer","viewer","useMutation","onCompleted","data","logOut","window","sessionStorage","removeItem","onError","SubMenuLogin","id","title","avatar","to","UserOutlined","onClick","LogoutOutlined","type","mode","selectable","HomeOutlined","AppHeader","onSearch","location","useLocation","useState","searchQuery","setSearchQuery","useEffect","pathname","includes","query","last","split","onChange","e","target","enterButton","placeholder","ErrorBanner","banner","closable","Text","Typography","Title","ListingCard","listing","address","image","numOfGuests","hoverable","cover","background","level","strong","ellipsis","color","marginRight","PageSkeleton","skeletonParagraph","active","paragraph","rows","LISTING","LISTINGS","USER","USER_AUTH","Search","Input","HomeHero","size","gutter","xs","md","torontoImage","dubaiImage","losAngelesImage","londonImage","HomeListings","listings","grid","sm","lg","column","dataSource","renderItem","ListingsSkeleton","cardsCount","emptyData","Array","fill","loading","ListingsFilters","filter","setFilter","Option","ListingsPagination","pageSize","page","setPage","total","hideOnSinglePage","showLessItems","current","defaultPageSize","Paragraph","Content","Layout","Listings","match","locationRef","useRef","params","useQuery","skip","variables","listingsPage","limit","get","listingsRegionElement","region","listingsSectionElement","result","length","offsetTop","mark","HomeListingsSkeleton","Home","mapBackgroundImage","sanFransiscoImage","cancunImage","Stripe","history","connectStripe","hasWallet","connectStripeRef","code","URL","href","searchParams","input","replace","tip","Form","Host","hostListing","push","imageLoading","setImageLoading","imageBase64Value","setImageBase64Value","onFinishFailed","onFinish","values","city","state","postalCode","rest","fullAddress","layout","name","label","rules","required","Group","Button","min","extra","maxLength","TextArea","listType","showUploadList","action","beforeUpload","beforeImageUpload","info","file","status","originFileObj","getBase64Value","width","height","LoadingOutlined","PlusOutlined","htmlType","fileIsValidImage","fileIsValidSize","img","callback","reader","FileReader","addEventListener","readAsDataURL","ListingBookings","bookingsPage","setBookingsPage","listingBookings","listingBookingsList","undefined","locale","emptyText","pagination","listingBooking","bookingHistory","checkIn","checkOut","tenant","shape","WrappedListingCreateBookingModal","injectStripe","listingId","visible","setVisible","checkInDate","checkOutDate","stripe","clearBookingData","handleListingRefetch","createBooking","daysBooked","diff","listingPrice","handleCreateBooking","a","console","count","createToken","stripeToken","token","source","moment","format","centered","footer","onCancel","KeyOutlined","hidePostalCode","DATE_FORMAT","ListingCreateBookings","host","bookingsIndex","setCheckInDate","setCheckOutDate","setModalVisible","bookingsIndexJSON","JSON","parse","dateIsBooked","date","year","month","day","disabledDate","isBefore","endOf","viewerIsHost","checkInInputDisabled","buttonMessage","showToday","disabled","onOpenChange","selectedCheckOutDate","dateCursor","add","ListingDetails","EnvironmentOutlined","expandable","Listing","modalVisible","refetch","justify","Login","useLazyQuery","authorize","authQuery","logIn","setItem","logInRes","authUrl","logInRef","viewerId","logInErrorBannerElement","role","aria-label","margin","NotFound","props","log","process","stripeAuthUrl","UserProfile","user","viewerIsUser","handleUserRefetch","disconnectStripe","additionalDetail","income","rel","additionalDetailSection","contact","UserBookings","userBookings","userBookingsList","position","userBooking","UserListings","setListingsPage","userListings","userListingsList","userListing","User","stripeErrorBanner","userListingsElement","userBookingsElement","userProfileElement","initialViewer","didRequest","App","useHistory","trim","exact","path","render","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","httpLink","HttpLink","uri","authMiddleware","ApolloLink","operation","forward","getItem","setContext","headers","client","ApolloClient","link","concat","cache","InMemoryCache","ReactDOM","apiKey","document","getElementById"],"mappings":"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","file":"static/js/main.37bdd241.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","import { Header } from 'antd/lib/layout/layout';\nimport logo from 'assets/images/tinyhouse-logo.png';\nimport React from 'react';\n\nexport const AppHeaderSkeleton = () => {\n\treturn (\n\t\t<Header className='app-header'>\n\t\t\t<div className='app-header__logo-search-section'>\n\t\t\t\t<div className='app-header__logo'>\n\t\t\t\t\t<img src={logo} alt='App logo' />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Header>\n\t)\n}\n","import gql from 'graphql-tag'\n\nexport const CONNECT_STRIPE = gql`\n\tmutation ConnectStripe($input: ConnectStripeInput!) {\n\t\tconnectStripe(input: $input) {\n\t\t\thasWallet\n\t\t}\n\t}\n`\n","import { gql } from '@apollo/client'\n\nexport const CREATE_BOOKING = gql`\n\tmutation CreateBooking($input: CreateBookingInput!) {\n\t\tcreateBooking(input: $input) {\n\t\t\tid\n\t\t}\n\t}\n`\n","import gql from 'graphql-tag'\n\nexport const DISCONNECT_STRIPE = gql`\n\tmutation DisconnectStripe {\n\t\tdisconnectStripe {\n\t\t\thasWallet\n\t\t}\n\t}\n`\n","import { gql } from '@apollo/client'\n\nexport const HOST_LISTING = gql`\n\tmutation HostListing($input: HostListingInput!) {\n\t\thostListing(input: $input) {\n\t\t\tid\n\t\t}\n\t}\n`\n","import { gql } from '@apollo/client';\n\nexport const LOG_IN = gql`\n\tmutation LogIn($input: LogInInput) {\n\t\tlogIn(input: $input) {\n\t\t\tid\n\t\t\ttoken\n\t\t\tavatar\n\t\t\thasWallet\n\t\t\tdidRequest\n\t\t}\n\t}\n`\n","import { gql } from '@apollo/client';\n\nexport const LOG_OUT = gql`\n\tmutation LogOut {\n\t\tlogOut {\n\t\t\tid\n\t\t\ttoken\n\t\t\tavatar\n\t\t\thasWallet\n\t\t\tdidRequest\n\t\t}\n\t}\n`\n","import React, { createContext, FC, useContext } from 'react'\n\ninterface IContext {\n\tviewer: IViewer\n\tsetViewer: React.Dispatch<React.SetStateAction<IViewer>>\n}\n\nconst ViewerContext = createContext<IContext>(null as any)\n\n\nexport const useViewer = () => useContext(ViewerContext)\nexport const ViewerProvider: FC<{ value: IContext }> = ({\n\tchildren,\n\tvalue,\n}) => <ViewerContext.Provider value={value}>{children}</ViewerContext.Provider>\n","import { message, notification } from 'antd'\n\nexport const displaySuccessNotification = (\n\tmessage: string,\n\tdescription?: string\n) => {\n\treturn notification['success']({\n\t\tmessage,\n\t\tdescription,\n\t\tplacement: 'topLeft',\n\t\tstyle: {\n\t\t\tmarginTop: 50,\n\t\t},\n\t})\n}\n\nexport const displayErrorMessage = (error: string) => {\n\treturn message.error(error)\n}\n\nexport const formatListingPrice = (price: number, round = true) => {\n\treturn `$${round ? Math.round(price / 100) : price / 100}`\n}\n\nexport const iconColor = '#1890ff'\n\nexport const listingsFilter: {\n\tPRICE_HIGH_TO_LOW: IListingsFilter\n\tPRICE_LOW_TO_HIGH: IListingsFilter\n} = {\n\tPRICE_HIGH_TO_LOW: 'PRICE_HIGH_TO_LOW',\n\tPRICE_LOW_TO_HIGH: 'PRICE_LOW_TO_HIGH',\n}\nexport const listingType: {\n\tApartment: IListingType\n\tHouse: IListingType\n} = {\n\tHouse: 'HOUSE',\n\tApartment: 'APARTMENT',\n}\n","import { HomeOutlined, LogoutOutlined, UserOutlined } from '@ant-design/icons'\nimport { useMutation } from '@apollo/client'\nimport { Avatar, Button, Menu } from 'antd'\nimport { LOG_OUT } from 'graphql/mutations'\nimport React, { FC } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useViewer } from 'ViewerContext';\nimport { displayErrorMessage, displaySuccessNotification } from '../../../utils'\n\nconst { Item, SubMenu } = Menu\n\nexport const MenuItems: FC = () => {\n\tconst { setViewer, viewer } = useViewer()\n\n\tconst [logOut] = useMutation<ILogOutMutation, ILogOutMutationVariables>(\n\t\tLOG_OUT,\n\t\t{\n\t\t\tonCompleted: data => {\n\t\t\t\tif (data && data.logOut) {\n\t\t\t\t\tsetViewer(data.logOut)\n\t\t\t\t\twindow.sessionStorage.removeItem('token')\n\t\t\t\t\tdisplaySuccessNotification(\"You've successfully logged out!\")\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonError: () => {\n\t\t\t\tdisplayErrorMessage(\n\t\t\t\t\t\"Sorry! We weren't able to log you out. Please try again later.\"\n\t\t\t\t)\n\t\t\t},\n\t\t}\n\t)\n\n\tconst SubMenuLogin = viewer.id ? (\n\t\t<SubMenu title={<Avatar src={viewer.avatar} />}>\n\t\t\t<Item key='/user'>\n\t\t\t\t<Link to={`/user/${viewer.id}`}>\n\t\t\t\t\t<UserOutlined />\n\t\t\t\t\tProfile\n\t\t\t\t</Link>\n\t\t\t</Item>\n\t\t\t<Item key='/logout'>\n\t\t\t\t<div onClick={() => logOut()}>\n\t\t\t\t\t<LogoutOutlined />\n\t\t\t\t\tLogout\n\t\t\t\t</div>\n\t\t\t</Item>\n\t\t</SubMenu>\n\t) : (\n\t\t<Item>\n\t\t\t<Link to='/login'>\n\t\t\t\t<Button type='primary'>Sign In</Button>\n\t\t\t</Link>\n\t\t</Item>\n\t)\n\n\treturn (\n\t\t<Menu mode='horizontal' selectable={false} className='menu'>\n\t\t\t<Item key='/host'>\n\t\t\t\t<Link to='/host'>\n\t\t\t\t\t<HomeOutlined />\n\t\t\t\t\tHost\n\t\t\t\t</Link>\n\t\t\t</Item>\n\t\t\t{SubMenuLogin}\n\t\t</Menu>\n\t)\n}\n","import Search from 'antd/lib/input/Search';\nimport { Header } from 'antd/lib/layout/layout';\nimport logo from 'assets/images/tinyhouse-logo.png';\nimport { last } from 'lodash';\nimport React, { FC, useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { MenuItems } from './components';\n\ninterface IProps {\n\tonSearch: (query: string) => void\n}\n\nexport const AppHeader: FC<IProps> = ({ onSearch }) => {\n\tconst location = useLocation()\n\tconst [searchQuery, setSearchQuery] = useState('')\n\n\tuseEffect(() => {\n\t\tif (location.pathname.includes('/listings')) {\n\t\t\tconst query = last(location.pathname.split('/')) as string\n\t\t\tsetSearchQuery(query)\n\t\t} else setSearchQuery('')\n\t}, [location])\n\n\treturn (\n\t\t<Header className='app-header'>\n\t\t\t<div className='app-header__logo-search-section'>\n\t\t\t\t<div className='app-header__logo'>\n\t\t\t\t\t<Link to='/'>\n\t\t\t\t\t\t<img src={logo} alt='App logo' />\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<div className='app-header__search-input'>\n\t\t\t\t\t<Search\n\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\tonChange={e => setSearchQuery(e.target.value)}\n\t\t\t\t\t\tonSearch={onSearch}\n\t\t\t\t\t\tenterButton\n\t\t\t\t\t\tplaceholder=\"Search 'Yerevan'\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='app-header__menu-section'>\n\t\t\t\t<MenuItems />\n\t\t\t</div>\n\t\t</Header>\n\t)\n}\n","import { Alert } from 'antd';\nimport React, { FC } from 'react';\n\ninterface IProps {\n\tmessage?: string\n\tdescription?: string\n}\n\nexport const ErrorBanner: FC<IProps> = ({\n\tmessage = 'Uh oh! Something went wrong :(',\n\tdescription = 'Some Description',\n}) => (\n\t<Alert\n\t\tbanner\n\t\tclosable\n\t\tmessage={message}\n\t\ttype='error'\n\t\tdescription={description}\n\t\tclassName='error-banner'\n\t/>\n)\n","import { UserOutlined } from '@ant-design/icons';\nimport { Card, Typography } from 'antd';\nimport React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { formatListingPrice, iconColor } from 'utils';\n\nconst { Text, Title } = Typography\n\ninterface IProps {\n\tlisting: IListingsQuery['listings']['result'][0]\n}\n\nexport const ListingCard: FC<IProps> = ({ listing }) => {\n\tconst { address, image, numOfGuests, price, title, id } = listing\n\n\treturn (\n\t\t<Link to={`/listing/${id}`}>\n\t\t\t<Card\n\t\t\t\thoverable\n\t\t\t\tclassName='listing-card'\n\t\t\t\tcover={\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{ background: `url(${image})` }}\n\t\t\t\t\t\tclassName='listing-card__cover-img'\n\t\t\t\t\t></div>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div className='listing-card__details'>\n\t\t\t\t\t<div className='listing-card__description'>\n\t\t\t\t\t\t<Title level={4} className='listing-card__price'>\n\t\t\t\t\t\t\t{formatListingPrice(price)} <span>/day</span>\n\t\t\t\t\t\t</Title>\n\t\t\t\t\t\t<Text strong ellipsis className='listing-card__address'>\n\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text ellipsis className='listing-card__location'>\n\t\t\t\t\t\t\t{address}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='listing-card__dimensions listing-card__dimensions--guests'>\n\t\t\t\t\t\t<UserOutlined style={{ color: iconColor, marginRight: 5 }} />\n\t\t\t\t\t\t<Text>{numOfGuests} guests</Text>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t</Link>\n\t)\n}\n","import { Skeleton } from 'antd';\nimport React from 'react';\n\nexport const PageSkeleton = () => {\n\tconst skeletonParagraph = (\n\t\t<Skeleton\n\t\t\tactive\n\t\t\tparagraph={{ rows: 4 }}\n\t\t\tclassName='page-skeleton__paragraph'\n\t\t/>\n\t)\n\treturn (\n\t\t<>\n\t\t\t{skeletonParagraph}\n\t\t\t{skeletonParagraph}\n\t\t\t{skeletonParagraph}\n\t\t</>\n\t)\n}\n","export default __webpack_public_path__ + \"static/media/cancun.7009e472.jpg\";","export default __webpack_public_path__ + \"static/media/map-background.c8201cdd.jpg\";","export default __webpack_public_path__ + \"static/media/san-fransisco.bc8599ab.jpg\";","import { gql } from '@apollo/client';\n\nexport const LISTING = gql`\n\tquery Listing($id: ID!, $bookingsPage: Int!, $limit: Int!) {\n\t\tlisting(id: $id) {\n\t\t\tid\n\t\t\ttitle\n\t\t\tdescription\n\t\t\timage\n\t\t\thost {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\tavatar\n\t\t\t\thasWallet\n\t\t\t}\n\t\t\ttype\n\t\t\taddress\n\t\t\tcity\n\t\t\tbookings(limit: $limit, page: $bookingsPage) {\n\t\t\t\ttotal\n\t\t\t\tresult {\n\t\t\t\t\tid\n\t\t\t\t\ttenant {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t\tavatar\n\t\t\t\t\t}\n\t\t\t\t\tcheckIn\n\t\t\t\t\tcheckOut\n\t\t\t\t}\n\t\t\t}\n\t\t\tbookingsIndex\n\t\t\tprice\n\t\t\tnumOfGuests\n\t\t}\n\t}\n`\n","import { gql } from '@apollo/client';\n\nexport const LISTINGS = gql`\n\tquery Listings(\n\t\t$location: String\n\t\t$filter: ListingsFilter!\n\t\t$listingsPage: Int!\n\t\t$limit: Int!\n\t) {\n\t\tlistings(\n\t\t\tlocation: $location\n\t\t\tfilter: $filter\n\t\t\tpage: $listingsPage\n\t\t\tlimit: $limit\n\t\t) {\n\t\t\ttotal\n\t\t\tregion\n\t\t\tresult {\n\t\t\t\tid\n\t\t\t\ttitle\n\t\t\t\timage\n\t\t\t\taddress\n\t\t\t\tprice\n\t\t\t\tnumOfGuests\n\t\t\t}\n\t\t}\n\t}\n`\n","import { gql } from '@apollo/client';\n\nexport const USER = gql`\n\tquery User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\n\t\tuser(id: $id) {\n\t\t\tid\n\t\t\tname\n\t\t\tavatar\n\t\t\tcontact\n\t\t\thasWallet\n\t\t\tincome\n\t\t\tbookings(limit: $limit, page: $bookingsPage) {\n\t\t\t\ttotal\n\t\t\t\tresult {\n\t\t\t\t\tid\n\t\t\t\t\tlisting {\n\t\t\t\t\t\tid\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\timage\n\t\t\t\t\t\taddress\n\t\t\t\t\t\tprice\n\t\t\t\t\t\tnumOfGuests\n\t\t\t\t\t}\n\t\t\t\t\tcheckIn\n\t\t\t\t\tcheckOut\n\t\t\t\t}\n\t\t\t}\n\t\t\tlistings(limit: $limit, page: $listingsPage) {\n\t\t\t\ttotal\n\t\t\t\tresult {\n\t\t\t\t\tid\n\t\t\t\t\ttitle\n\t\t\t\t\timage\n\t\t\t\t\taddress\n\t\t\t\t\tprice\n\t\t\t\t\tnumOfGuests\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`\n","import { gql } from '@apollo/client';\n\nexport const USER_AUTH = gql`\n\tquery AuthUrl {\n\t\tauthUrl\n\t}\n`\n","export default __webpack_public_path__ + \"static/media/dubai.a6c56bca.jpg\";","export default __webpack_public_path__ + \"static/media/london.16fb9b9d.jpg\";","export default __webpack_public_path__ + \"static/media/los-angeles.44220702.jpg\";","export default __webpack_public_path__ + \"static/media/toronto.5c221cf7.jpg\";","import { Card, Col, Input, Row, Typography } from 'antd';\nimport dubaiImage from 'assets/images/dubai.jpg';\nimport londonImage from 'assets/images/london.jpg';\nimport losAngelesImage from 'assets/images/los-angeles.jpg';\nimport torontoImage from 'assets/images/toronto.jpg';\nimport React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst { Title } = Typography\nconst { Search } = Input\n\ninterface IProps {\n\tonSearch: (query: string) => void\n}\n\nexport const HomeHero: FC<IProps> = ({ onSearch }) => {\n\treturn (\n\t\t<div className='home-hero'>\n\t\t\t<div className='home-hero__search'>\n\t\t\t\t<Title className='home-hero__title'>\n\t\t\t\t\tFind a place you'll love to stay at\n\t\t\t\t</Title>\n\t\t\t\t<Search\n\t\t\t\t\tonSearch={onSearch}\n\t\t\t\t\tenterButton\n\t\t\t\t\tclassName='home-hero__search-input'\n\t\t\t\t\tplaceholder=\"Search 'Yerevan'\"\n\t\t\t\t\tsize='large'\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Row gutter={12} className='home-hero__cards'>\n\t\t\t\t<Col xs={12} md={6}>\n\t\t\t\t\t<Link to={`/listings/toronto`}>\n\t\t\t\t\t\t<Card cover={<img alt='Toronto' src={torontoImage} />}>\n\t\t\t\t\t\t\tToronto\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Link>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={12} md={6}>\n\t\t\t\t\t<Link to={`/listings/dubai`}>\n\t\t\t\t\t\t<Card cover={<img alt='Dubai' src={dubaiImage} />}>Dubai</Card>\n\t\t\t\t\t</Link>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={0} md={6}>\n\t\t\t\t\t<Link to={`/listings/los%20angeles`}>\n\t\t\t\t\t\t<Card cover={<img alt='Los Angeles' src={losAngelesImage} />}>\n\t\t\t\t\t\t\tLos Angeles\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Link>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={0} md={6}>\n\t\t\t\t\t<Link to={`/listings/london`}>\n\t\t\t\t\t\t<Card cover={<img alt='London' src={londonImage} />}>London</Card>\n\t\t\t\t\t</Link>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</div>\n\t)\n}\n","import { List, Typography } from 'antd';\nimport { ListingCard } from 'Components';\nimport React, { FC } from 'react';\n\ninterface IProps {\n\tlistings: IListingsQuery['listings']['result']\n\ttitle: string\n}\n\nexport const HomeListings: FC<IProps> = ({ listings, title }) => {\n\treturn (\n\t\t<div className='home-listings'>\n\t\t\t<Typography.Title level={4} className='home-listings__title'>\n\t\t\t\t{title}\n\t\t\t</Typography.Title>\n\t\t\t<List\n\t\t\t\tgrid={{\n\t\t\t\t\tgutter: 8,\n\t\t\t\t\txs: 1,\n\t\t\t\t\tsm: 2,\n\t\t\t\t\tlg: 4,\n\t\t\t\t\tcolumn: 4\n\t\t\t\t}}\n\t\t\t\tdataSource={listings}\n\t\t\t\trenderItem={listing => (\n\t\t\t\t\t<List.Item>\n\t\t\t\t\t\t<ListingCard listing={listing} />\n\t\t\t\t\t</List.Item>\n\t\t\t\t)}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n","import { Card, List } from 'antd';\nimport listingLoadingCover from 'assets/images/listing-loading-card-cover.jpg';\nimport React, { FC } from 'react';\n\ninterface IProps {\n\tcardsCount?: number\n}\n\nexport const ListingsSkeleton: FC<IProps> = ({ children, cardsCount = 4 }) => {\n\tconst emptyData = Array(cardsCount).fill({})\n\n\treturn (\n\t\t<div className='home-listings-skeleton'>\n\t\t\t{children}\n\t\t\t<List\n\t\t\t\tgrid={{ gutter: 8, xs: 1, sm: 2, lg: 4, column: 4 }}\n\t\t\t\tdataSource={emptyData}\n\t\t\t\trenderItem={() => (\n\t\t\t\t\t<List.Item>\n\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\tloading\n\t\t\t\t\t\t\tcover={\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tstyle={{ background: `url(${listingLoadingCover})` }}\n\t\t\t\t\t\t\t\t\tclassName='home-listings-skeleton__card-cover-img'\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</List.Item>\n\t\t\t\t)}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","import { Select } from 'antd';\nimport React, { FC } from 'react';\nimport { listingsFilter } from 'utils';\n\ninterface IProps {\n\tfilter: IListingsFilter\n\tsetFilter: (filter: IListingsFilter) => void\n}\n\nexport const ListingsFilters: FC<IProps> = ({ filter, setFilter }) =>\n<div className='listings-filters'>\n  <span>Filter By</span>\n  <Select value={filter} onChange={setFilter}>\n    <Select.Option value={listingsFilter.PRICE_LOW_TO_HIGH}>\n      Price: Low to High\n    </Select.Option>\n    <Select.Option value={listingsFilter.PRICE_HIGH_TO_LOW}>\n      Price: High to Low\n    </Select.Option>\n  </Select>\n</div>\n\n","import { Pagination } from 'antd';\nimport React, { FC } from 'react';\n\ninterface IProps {\n\ttotal: number\n\tpageSize: number\n\tpage: number\n\tsetPage: (page: number) => void\n}\n\nexport const ListingsPagination: FC<IProps> = ({\n\tpageSize,\n\tpage,\n\tsetPage,\n\ttotal,\n}) => {\n\treturn (\n\t\t<Pagination\n\t\t\thideOnSinglePage\n\t\t\tshowLessItems\n\t\t\tcurrent={page}\n\t\t\ttotal={total}\n\t\t\tdefaultPageSize={pageSize}\n\t\t\tonChange={setPage}\n\t\t\tclassName='listings-pagination'\n\t\t/>\n\t)\n}\n","import { useQuery } from '@apollo/client';\nimport { Affix, Layout, List, Skeleton, Typography } from 'antd';\nimport { ErrorBanner, ListingCard } from 'Components';\nimport { LISTINGS } from 'graphql/queries';\nimport { get } from 'lodash';\nimport React, { FC, useEffect, useRef, useState } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { listingsFilter } from 'utils';\nimport { ListingsSkeleton } from '.';\nimport { ListingsPagination } from './components';\nimport { ListingsFilters } from './components/ListingsFilters';\n\nconst { Title, Paragraph, Text } = Typography\n\ninterface IMatchParams {\n\tlocation: string\n}\n\ninterface IProps extends RouteComponentProps<IMatchParams> {}\n\nconst { Content } = Layout\nconst PAGE_LIMIT = 8\n\nexport const Listings: FC<IProps> = ({ match }) => {\n\tconst locationRef = useRef(match.params.location)\n\tconst [filter, setFilter] = useState(listingsFilter.PRICE_LOW_TO_HIGH)\n\tconst [page, setPage] = useState(1)\n\tconst { data, loading, error } = useQuery<\n\t\tIListingsQuery,\n\t\tIListingsQueryVariables\n\t>(LISTINGS, {\n\t\tskip: locationRef.current !== match.params.location && page !== 1,\n\t\tvariables: {\n\t\t\tlocation: match.params.location,\n\t\t\tlistingsPage: page,\n\t\t\tlimit: PAGE_LIMIT,\n\t\t\tfilter,\n\t\t},\n\t})\n\n\tuseEffect(() => {\n\t\tsetPage(1)\n\t\tlocationRef.current = match.params.location\n\t}, [match.params.location])\n\n\tif (loading || error) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{error && (\n\t\t\t\t\t<ErrorBanner description=\"We either couldn't find anything matching your search or have encountered an error. If you're searching for a unique location, try searching again with more common keywords.\" />\n\t\t\t\t)}\n\t\t\t\t<Content className='listings'>\n\t\t\t\t\t<ListingsSkeleton cardsCount={PAGE_LIMIT}>\n\t\t\t\t\t\t<Skeleton paragraph={{ rows: 1 }} active />\n\t\t\t\t\t</ListingsSkeleton>\n\t\t\t\t</Content>\n\t\t\t</>\n\t\t)\n\t}\n\n\tconst listings = get(data, 'listings', null)\n\n\tconst listingsRegionElement = listings?.region && (\n\t\t<Title level={3} className='listings__title'>\n\t\t\tResults for {listings?.region}\n\t\t</Title>\n\t)\n\n\tconst listingsSectionElement =\n\t\tlistings && listings.result.length ? (\n\t\t\t<div>\n\t\t\t\t<Affix offsetTop={64}>\n\t\t\t\t\t<ListingsPagination\n\t\t\t\t\t\tpageSize={PAGE_LIMIT}\n\t\t\t\t\t\ttotal={listings.total}\n\t\t\t\t\t\tpage={page}\n\t\t\t\t\t\tsetPage={setPage}\n\t\t\t\t\t/>\n\t\t\t\t\t<ListingsFilters filter={filter} setFilter={setFilter} />\n\t\t\t\t</Affix>\n\t\t\t\t<List\n\t\t\t\t\tgrid={{ column: 4, gutter: 8, xs: 1, sm: 2, lg: 4 }}\n\t\t\t\t\tdataSource={listings.result}\n\t\t\t\t\trenderItem={listing => (\n\t\t\t\t\t\t<List.Item>\n\t\t\t\t\t\t\t<ListingCard listing={listing} />\n\t\t\t\t\t\t</List.Item>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t) : (\n\t\t\t<div>\n\t\t\t\t<Paragraph>\n\t\t\t\t\tIt appears that no listings have ye been created for this\n\t\t\t\t\t<Text mark>\"{listings?.region}\"</Text>\n\t\t\t\t</Paragraph>\n\t\t\t\t<Paragraph>\n\t\t\t\t\tBe the first person to create a{' '}\n\t\t\t\t\t<Link to='/host'>listing in this area</Link>!\n\t\t\t\t</Paragraph>\n\t\t\t</div>\n\t\t)\n\n\treturn (\n\t\t<Content className='listings'>\n\t\t\t{listingsRegionElement}\n\t\t\t{listingsSectionElement}\n\t\t</Content>\n\t)\n}\n","import { Skeleton } from 'antd';\nimport { ListingsSkeleton } from 'pages/Listings';\nimport React from 'react';\n\nexport const HomeListingsSkeleton = () => (\n\t<ListingsSkeleton>\n\t\t<Skeleton paragraph={{ rows: 0 }} />\n\t</ListingsSkeleton>\n)\n","import { useQuery } from '@apollo/client';\nimport { Col, Layout, Row, Typography } from 'antd';\nimport cancunImage from 'assets/images/cancun.jpg';\nimport mapBackgroundImage from 'assets/images/map-background.jpg';\nimport sanFransiscoImage from 'assets/images/san-fransisco.jpg';\nimport { LISTINGS } from 'graphql/queries';\nimport React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { listingsFilter } from 'utils';\nimport { HomeHero, HomeListings, HomeListingsSkeleton } from './components';\n\nconst { Paragraph, Title } = Typography\nconst { Content } = Layout\n\ninterface IProps {\n\tonSearch: (query: string) => void\n}\n\nexport const Home: FC<IProps> = ({ onSearch }) => {\n\tconst { data, loading } = useQuery<IListingsQuery, IListingsQueryVariables>(\n\t\tLISTINGS,\n\t\t{\n\t\t\tvariables: {\n\t\t\t\tfilter: listingsFilter.PRICE_HIGH_TO_LOW,\n\t\t\t\tlimit: 4,\n\t\t\t\tlistingsPage: 1,\n\t\t\t},\n\t\t}\n\t)\n\n\tconst renderListingsSection = () => {\n\t\tif (loading) {\n\t\t\treturn <HomeListingsSkeleton />\n\t\t}\n\n\t\tif (data) {\n\t\t\treturn (\n\t\t\t\t<HomeListings\n\t\t\t\t\ttitle='Premium Listings'\n\t\t\t\t\tlistings={data.listings.result}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<Content\n\t\t\tstyle={{ background: `url(${mapBackgroundImage})` }}\n\t\t\tclassName='home'\n\t\t>\n\t\t\t<HomeHero onSearch={onSearch} />\n\n\t\t\t<div className='home__cta-section'>\n\t\t\t\t<Title className='home__cta-section-title' level={2}>\n\t\t\t\t\tYour guide for all things rental\n\t\t\t\t</Title>\n\t\t\t\t<Paragraph>\n\t\t\t\t\tHelping you make the best decision in renting your last minute\n\t\t\t\t\tlocations.\n\t\t\t\t</Paragraph>\n\t\t\t\t<Link\n\t\t\t\t\tto='listings/united%20states'\n\t\t\t\t\tclassName='ant-btn ant-btn-primary ant-btn-large home__cta-section-button'\n\t\t\t\t>\n\t\t\t\t\tPopular listings in the United States\n\t\t\t\t</Link>\n\t\t\t</div>\n\n\t\t\t{renderListingsSection()}\n\n\t\t\t<div className='home__listings'>\n\t\t\t\t<Title level={4} className='home__listings-title'>\n\t\t\t\t\tListing of any kind\n\t\t\t\t</Title>\n\t\t\t\t<Row gutter={12}>\n\t\t\t\t\t<Col xs={24} sm={12}>\n\t\t\t\t\t\t<Link to='/listings/san%20fransisco'>\n\t\t\t\t\t\t\t<div className='home__listings-img-cover'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={sanFransiscoImage}\n\t\t\t\t\t\t\t\t\tclassName='home__listings-img'\n\t\t\t\t\t\t\t\t\talt='San Fransisco'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs={24} sm={12}>\n\t\t\t\t\t\t<Link to='/listings/cancun '>\n\t\t\t\t\t\t\t<div className='home__listings-img-cover'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={cancunImage}\n\t\t\t\t\t\t\t\t\tclassName='home__listings-img'\n\t\t\t\t\t\t\t\t\talt='Cancun'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t</Content>\n\t)\n}\n","import { useMutation } from '@apollo/client'\nimport { Layout, Spin } from 'antd'\nimport { CONNECT_STRIPE } from 'graphql/mutations'\nimport React, { FC, useEffect, useRef } from 'react'\nimport { Redirect, RouteComponentProps } from 'react-router-dom'\nimport { displaySuccessNotification } from 'utils'\nimport { useViewer } from 'ViewerContext'\n\nconst { Content } = Layout\n\ninterface IProps extends RouteComponentProps {}\n\nexport const Stripe: FC<IProps> = ({ history }) => {\n\tconst { viewer, setViewer } = useViewer()\n\tconst [connectStripe, { data, error, loading }] = useMutation<\n\t\tIConnectStripeMutation,\n\t\tIConnectStripeMutationVariables\n\t>(CONNECT_STRIPE, {\n\t\tonCompleted: data => {\n\t\t\tif (data && data.connectStripe) {\n\t\t\t\tsetViewer(viewer => ({\n\t\t\t\t\t...viewer,\n\t\t\t\t\thasWallet: data.connectStripe.hasWallet,\n\t\t\t\t}))\n\n\t\t\t\tdisplaySuccessNotification(\n\t\t\t\t\t\"You've successfully connected your Stripe account!\",\n\t\t\t\t\t'You can now begin to create listings in the Host page'\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\t})\n\n\tconst connectStripeRef = useRef(connectStripe)\n\tuseEffect(() => {\n\t\tconst code = new URL(window.location.href).searchParams.get('code')\ndebugger\n\t\tif (code) {\n\t\t\tconnectStripeRef.current({ variables: { input: { code } } })\n\t\t} else {\n\t\t\thistory.replace('/login')\n\t\t}\n\t}, [history])\n\n\tif (data && data.connectStripe) {\n\t\treturn <Redirect to={`/user/${viewer.id}`} />\n\t}\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<Content className='stripe'>\n\t\t\t\t<Spin size='large' tip='Connecting your Stripe account...' />\n\t\t\t</Content>\n\t\t)\n\t}\n\n\tif (error) {\n\t\treturn <Redirect to={`/user/${viewer.id}?stripe_error=true`} />\n\t}\n\n\treturn null\n}\n","import { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport { useMutation } from '@apollo/client';\nimport {\n\tButton,\n\tForm,\n\tInput,\n\tInputNumber,\n\tLayout,\n\tRadio,\n\tTypography,\n\tUpload\n} from 'antd';\nimport { UploadChangeParam } from 'antd/lib/upload';\nimport { HOST_LISTING } from 'graphql/mutations';\nimport React, { useState } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport {\n\tdisplayErrorMessage,\n\tdisplaySuccessNotification,\n\tlistingType\n} from 'utils';\nimport { useViewer } from 'ViewerContext';\n\nconst { Content } = Layout\nconst { Text, Title } = Typography\nconst { Item } = Form\n\nexport const Host = ({ history }: RouteComponentProps) => {\n\tconst { viewer } = useViewer()\n\tconst [hostListing, { loading }] = useMutation<\n\t\tIHostListingMutation,\n\t\tIHostListingMutationVariables\n\t>(HOST_LISTING, {\n\t\tonCompleted: ({ hostListing }) => {\n\t\t\tdisplaySuccessNotification('You successfully created your listing!')\n\t\t\thistory.push(`listing/${hostListing.id}`)\n\t\t},\n\t\tonError: () =>\n\t\t\tdisplayErrorMessage(\n\t\t\t\t'Sorry! We were not able to create listing. Please try again later'\n\t\t\t),\n\t})\n\n\tconst [imageLoading, setImageLoading] = useState(false)\n\tconst [imageBase64Value, setImageBase64Value] = useState<string | null>(null)\n\n\tconst handleImageUpload = (info: UploadChangeParam) => {\n\t\tconst { file } = info\n\n\t\tif (file.status === 'uploading') {\n\t\t\tsetImageLoading(true)\n\t\t\treturn\n\t\t}\n\n\t\tif (\n\t\t\tfile.status === 'done' ||\n\t\t\t(file.status === 'error' && file.originFileObj)\n\t\t) {\n\t\t\tgetBase64Value(file.originFileObj!, imageBase64Value => {\n\t\t\t\tsetImageBase64Value(imageBase64Value)\n\t\t\t\tsetImageLoading(false)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n\n\tif (!viewer || !viewer.id) {\n\t\treturn (\n\t\t\t<Content className='host-content'>\n\t\t\t\t<div className='host__form-header'>\n\t\t\t\t\t<Title level={3} className='host__form-title'>\n\t\t\t\t\t\tYou'll have to be signed in to host a listing\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Text type='secondary'>\n\t\t\t\t\t\tWe only allow users who've signed in to our application to host new\n\t\t\t\t\t\tlisting. You can sign in at the <Link to='/login'>login </Link>\n\t\t\t\t\t\tpage\n\t\t\t\t\t</Text>\n\t\t\t\t</div>\n\t\t\t</Content>\n\t\t)\n\t}\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<Content className='host-content'>\n\t\t\t\t<div className='host__form-header'>\n\t\t\t\t\t<Title level={3} className='host__form-title'>\n\t\t\t\t\t\tPlease wait!\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Text type='secondary'>We are creating your listing now.</Text>\n\t\t\t\t</div>\n\t\t\t</Content>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Content className='host-content'>\n\t\t\t<Form\n\t\t\t\tonFinishFailed={() =>\n\t\t\t\t\tdisplayErrorMessage('Please provide all required fields!')\n\t\t\t\t}\n\t\t\t\tonFinish={values => {\n\t\t\t\t\tconst { city, state, postalCode, address, ...rest } = values\n\n\t\t\t\t\tconst fullAddress = `${address}, ${city}, ${state}, ${postalCode}`\n\t\t\t\t\tconst input = {\n\t\t\t\t\t\t...rest,\n\t\t\t\t\t\taddress: fullAddress,\n\t\t\t\t\t\timage: imageBase64Value,\n\t\t\t\t\t\tprice: values.price * 100,\n\t\t\t\t\t}\n\n\t\t\t\t\thostListing({ variables: { input } })\n\t\t\t\t}}\n\t\t\t\tlayout='vertical'\n\t\t\t>\n\t\t\t\t<div className='host__form-header'>\n\t\t\t\t\t<Title level={3} className='host__form-title'>\n\t\t\t\t\t\tHi! Let's get started listing your place\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Text type='secondary'>\n\t\t\t\t\t\tIn this form, we'll collect some basic and additional information\n\t\t\t\t\t\tabout your listing\n\t\t\t\t\t</Text>\n\t\t\t\t</div>\n\n\t\t\t\t<Item\n\t\t\t\t\tname='type'\n\t\t\t\t\tlabel='Home Type'\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please enter home type for your listing!',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Radio.Group>\n\t\t\t\t\t\t<Radio.Button value={listingType.Apartment}>\n\t\t\t\t\t\t\t<span>Apartment</span>\n\t\t\t\t\t\t</Radio.Button>\n\t\t\t\t\t\t<Radio.Button value={listingType.House}>\n\t\t\t\t\t\t\t<span>House</span>\n\t\t\t\t\t\t</Radio.Button>\n\t\t\t\t\t</Radio.Group>\n\t\t\t\t</Item>\n\n\t\t\t\t<Item\n\t\t\t\t\tlabel='Max # of guests'\n\t\t\t\t\tname='numOfGuests'\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please enter number of guests for your listing!',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<InputNumber min={1} placeholder='4' />\n\t\t\t\t</Item>\n\n\t\t\t\t<Item\n\t\t\t\t\tlabel='Title'\n\t\t\t\t\tname='title'\n\t\t\t\t\textra='Max characters count of 45'\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please enter a title for your listing!',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tmaxLength={45}\n\t\t\t\t\t\tplaceholder='The iconic and luxurious Bel-Air mansion'\n\t\t\t\t\t/>\n\t\t\t\t</Item>\n\n\t\t\t\t<Item\n\t\t\t\t\tlabel='Description of listing'\n\t\t\t\t\tname='description'\n\t\t\t\t\textra='Max characters count of 400'\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please enter a description for your listing!',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Input.TextArea\n\t\t\t\t\t\trows={3}\n\t\t\t\t\t\tmaxLength={400}\n\t\t\t\t\t\tplaceholder='Modern,\n\t\t\t\t\t\tclean and iconic home of Fresh Prince situated in the heart of Bel-Air mansion'\n\t\t\t\t\t/>\n\t\t\t\t</Item>\n\n\t\t\t\t<Item\n\t\t\t\t\tlabel='Address'\n\t\t\t\t\tname='address'\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please enter a address for your listing!',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Input placeholder='251 North Bristol Avenue' />\n\t\t\t\t</Item>\n\n\t\t\t\t<Item\n\t\t\t\t\tlabel='City/Town'\n\t\t\t\t\tname='city'\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please enter a city/town for your listing!',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Input placeholder='Los Angeles' />\n\t\t\t\t</Item>\n\n\t\t\t\t<Item\n\t\t\t\t\tlabel='State/Province'\n\t\t\t\t\tname='state'\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please enter a state/province for your listing!',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Input placeholder='California' />\n\t\t\t\t</Item>\n\n\t\t\t\t<Item\n\t\t\t\t\tlabel='Postal/ZipCode'\n\t\t\t\t\tname='postalCode'\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please enter a postal/zipcode for your listing!',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Input placeholder='Please enter a zip code for your listing!' />\n\t\t\t\t</Item>\n\n\t\t\t\t<Item\n\t\t\t\t\tlabel='Image'\n\t\t\t\t\tname='image'\n\t\t\t\t\textra='Images have to be under 1MB in size and of type JPG or PNG'\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please add an image for your listing!',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<div className='host__form-image-upload'>\n\t\t\t\t\t\t<Upload\n\t\t\t\t\t\t\tname='image'\n\t\t\t\t\t\t\tlistType='picture-card'\n\t\t\t\t\t\t\tclassName='avatar-uploader'\n\t\t\t\t\t\t\tshowUploadList={false}\n\t\t\t\t\t\t\taction='https://www.mocky.io/v2/5cc8019d300000980a055e76'\n\t\t\t\t\t\t\tbeforeUpload={beforeImageUpload}\n\t\t\t\t\t\t\tonChange={handleImageUpload}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{imageBase64Value ? (\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tstyle={{ width: 'auto', height: 'inherit' }}\n\t\t\t\t\t\t\t\t\tsrc={imageBase64Value}\n\t\t\t\t\t\t\t\t\talt=''\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{imageLoading ? <LoadingOutlined /> : <PlusOutlined />}\n\t\t\t\t\t\t\t\t\t<div className='ant-upload-text'>Upload</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Upload>\n\t\t\t\t\t</div>\n\t\t\t\t</Item>\n\n\t\t\t\t<Item\n\t\t\t\t\tlabel='Price'\n\t\t\t\t\tname='price'\n\t\t\t\t\textra='All prices in $USD/day'\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please enter a price for your listing!',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<InputNumber min={0} placeholder='120' />\n\t\t\t\t</Item>\n\n\t\t\t\t<Item>\n\t\t\t\t\t<Button htmlType='submit' type='primary'>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</Button>\n\t\t\t\t</Item>\n\t\t\t</Form>\n\t\t</Content>\n\t)\n}\n\nconst beforeImageUpload = (file: File) => {\n\tconst fileIsValidImage =\n\t\tfile.type === 'image/jpeg' || file.type === 'image/png'\n\tconst fileIsValidSize = file.size / 1024 / 1024 < 1\n\n\tif (!fileIsValidImage) {\n\t\tdisplayErrorMessage(\"You're only able to upload valid JPG or PNG files!\")\n\t\treturn false\n\t}\n\n\tif (!fileIsValidSize) {\n\t\tdisplayErrorMessage(\n\t\t\t\"You're only able to upload valid image files of under 1MB in size!\"\n\t\t)\n\t\treturn false\n\t}\n\n\treturn fileIsValidImage && fileIsValidSize\n}\n\nconst getBase64Value = (\n\timg: File | Blob,\n\tcallback: (imageBase64Value: string) => void\n) => {\n\tconst reader = new FileReader()\n\treader.addEventListener('load', () => callback(reader.result as string))\n\treader.readAsDataURL(img)\n}\n","import { Avatar, Divider, List, Typography } from 'antd';\nimport { get } from 'lodash';\nimport React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst { Text, Title } = Typography\n\ninterface IProps {\n\tlistingBookings: IBookings\n\tbookingsPage: number\n\tsetBookingsPage: (page: number) => void\n\tlimit: number\n}\n\nexport const ListingBookings: FC<IProps> = ({\n\tbookingsPage,\n\tlimit,\n\tsetBookingsPage,\n\tlistingBookings,\n}) => {\n\tconst total = get(listingBookings, 'total', null)\n\tconst result = get(listingBookings, 'result', null)\n\n\tconst listingBookingsList = listingBookings && (\n\t\t<List\n\t\t\tgrid={{\n\t\t\t\tgutter: 8,\n\t\t\t\txs: 1,\n\t\t\t\tsm: 2,\n\t\t\t\tlg: 3,\n\t\t\t}}\n\t\t\tdataSource={result || undefined}\n\t\t\tlocale={{ emptyText: 'No bookings have been made yet' }}\n\t\t\tpagination={{\n\t\t\t\tcurrent: bookingsPage,\n\t\t\t\ttotal: total || undefined,\n\t\t\t\tdefaultPageSize: limit,\n\t\t\t\thideOnSinglePage: true,\n\t\t\t\tshowLessItems: true,\n\t\t\t\tonChange: setBookingsPage,\n\t\t\t}}\n\t\t\trenderItem={listingBooking => {\n\t\t\t\tconst bookingHistory = (\n\t\t\t\t\t<div className='listing-booking__history'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\tCheck in: <Text strong>{listingBooking.checkIn}</Text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\tCheck out: <Text strong>{listingBooking.checkOut}</Text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\n\t\t\t\treturn (\n\t\t\t\t\t<List.Item>\n\t\t\t\t\t\t{bookingHistory}\n\t\t\t\t\t\t<Link to={`/user/${listingBooking.tenant.id}`}>\n\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\tsrc={listingBooking.tenant.avatar}\n\t\t\t\t\t\t\t\tsize={64}\n\t\t\t\t\t\t\t\tshape='square'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</List.Item>\n\t\t\t\t)\n\t\t\t}}\n\t\t/>\n\t)\n\n\treturn listingBookingsList ? (\n\t\t<div className='listing-bookings'>\n\t\t\t<Divider />\n\t\t\t<div className='listing-booking__section'>\n\t\t\t\t<Title level={4}>Bookings</Title>\n\t\t\t</div>\n\t\t\t{listingBookingsList}\n\t\t</div>\n\t) : null\n}\n","import { KeyOutlined } from '@ant-design/icons';\nimport { useMutation } from '@apollo/client';\nimport { Button, Divider, Modal, Typography } from 'antd';\nimport { CREATE_BOOKING } from 'graphql/mutations';\nimport { get } from 'lodash';\nimport moment, { Moment } from 'moment';\nimport React, { FC } from 'react';\nimport {\n\tCardElement,\n\tinjectStripe,\n\tReactStripeElements\n} from 'react-stripe-elements';\nimport {\n\tdisplayErrorMessage,\n\tdisplaySuccessNotification,\n\tformatListingPrice\n} from 'utils';\n\nconst { Paragraph, Text, Title } = Typography\n\ninterface IProps {\n\tlistingId: string\n\tprice: number\n\tcheckInDate: Moment\n\tcheckOutDate: Moment\n\tvisible: boolean\n\tsetVisible: (visible: boolean) => void\n\tclearBookingData: () => void\n\thandleListingRefetch: () => Promise<void>\n}\n\nconst ListingCreateBookingModal: FC<\n\tIProps & ReactStripeElements.InjectedStripeProps\n> = ({\n\tlistingId,\n\tvisible,\n\tsetVisible,\n\tcheckInDate,\n\tcheckOutDate,\n\tprice,\n\tstripe,\n\tclearBookingData,\n\thandleListingRefetch,\n}) => {\n\tconst [createBooking, { loading }] = useMutation<\n\t\tICreateBookingMutation,\n\t\tICreateBookingMutationVariables\n\t>(CREATE_BOOKING, {\n\t\tonCompleted: () => {\n\t\t\tclearBookingData()\n\t\t\tdisplaySuccessNotification(\n\t\t\t\t\"You've successfully booked the listing!\",\n\t\t\t\t'Booking history can always be found in your User page'\n\t\t\t)\n\t\t\thandleListingRefetch()\n\t\t},\n\t\tonError: () =>\n\t\t\tdisplayErrorMessage(\n\t\t\t\t\"Sorry! We weren't able to successfully book the listing. Please try again later!\"\n\t\t\t),\n\t})\n\n\tconst daysBooked = checkOutDate.diff(checkInDate, 'days') + 1\n\tconst listingPrice = price * daysBooked\n\n\tconst handleCreateBooking = async () => {\n\t\tconsole.count('{ handleCreateBooking }');\n\t\tif (!stripe) {\n\t\t\treturn displayErrorMessage(\"Sorry! We weren't able to connect Stripe.\")\n\t\t}\n\n\t\tconst { token: stripeToken, error } = await stripe.createToken()\n\n\t\tif (stripeToken) {\n\t\t\tawait createBooking({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tid: listingId,\n\t\t\t\t\t\tsource: stripeToken.id,\n\t\t\t\t\t\tcheckIn: moment(checkInDate).format('YYYY-MM-DD'),\n\t\t\t\t\t\tcheckOut: moment(checkOutDate).format('YYYY-MM-DD'),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t})\n\t\t} else {\n\t\t\tdisplayErrorMessage(\n\t\t\t\tget(\n\t\t\t\t\terror,\n\t\t\t\t\t'message',\n\t\t\t\t\t\"Sorry! We weren't able to book the listing. Please try again later.\"\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\n\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tcentered\n\t\t\tfooter={null}\n\t\t\tvisible={visible}\n\t\t\tonCancel={() => setVisible(false)}\n\t\t>\n\t\t\t<div className='listing-booking-modal'>\n\t\t\t\t<div className='listing-booking-modal__intro'>\n\t\t\t\t\t<Title className='listing-booking-modal__intro-title'>\n\t\t\t\t\t\t<KeyOutlined />\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Title level={3} className='listing-booking-modal__intro-title'>\n\t\t\t\t\t\tBook your trip\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Paragraph>\n\t\t\t\t\t\tEnter your payment information to book the listing from the date\n\t\t\t\t\t\tbetween{' '}\n\t\t\t\t\t\t<Text mark strong>\n\t\t\t\t\t\t\t{moment(checkInDate).format('MMMM Do YYYY')}{' '}\n\t\t\t\t\t\t</Text>{' '}\n\t\t\t\t\t\tand{' '}\n\t\t\t\t\t\t<Text mark strong>\n\t\t\t\t\t\t\t{moment(checkOutDate).format('MMMM Do YYYY')}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t, inclusive.\n\t\t\t\t\t</Paragraph>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\n\t\t\t\t<div className='listing-booking-modal__charge-summary'>\n\t\t\t\t\t<Paragraph>\n\t\t\t\t\t\t{formatListingPrice(price, false)} * {daysBooked} days ={' '}\n\t\t\t\t\t\t<Text strong>{formatListingPrice(listingPrice, false)}</Text>\n\t\t\t\t\t</Paragraph>\n\t\t\t\t\t<Paragraph className='listing-booking-modal__charge-summary-total'>\n\t\t\t\t\t\tTotal = <Text mark>{formatListingPrice(listingPrice, false)}</Text>\n\t\t\t\t\t</Paragraph>\n\t\t\t\t</div>\n\n\t\t\t\t<Divider />\n\t\t\t\t<CardElement\n\t\t\t\t\thidePostalCode\n\t\t\t\t\tclassName='listing-booking-modal__stripe-card'\n\t\t\t\t/>\n\t\t\t\t<div className='listing-booking-modal__stripe-card-section'>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\ttype='primary'\n\t\t\t\t\t\tclassName='listing-booking-modal__cta'\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tonClick={handleCreateBooking}\n\t\t\t\t\t>\n\t\t\t\t\t\tBook\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t)\n}\n\nexport const WrappedListingCreateBookingModal = injectStripe(\n\tListingCreateBookingModal\n)\n","import { Button, Card, DatePicker, Divider, Typography } from 'antd'\nimport { get } from 'lodash'\nimport moment, { Moment } from 'moment'\nimport React, { FC } from 'react'\nimport { displayErrorMessage, formatListingPrice } from 'utils'\nimport { useViewer } from 'ViewerContext'\n\nconst { Title, Paragraph, Text } = Typography\n\nconst DATE_FORMAT = 'YYYY/MM/DD'\n\ninterface IProps {\n\thost: IListing['host']\n\tbookingsIndex: IListing['bookingsIndex']\n\tprice: number\n\tcheckInDate: Maybe<Moment>\n\tsetCheckInDate: (checkInDate: Maybe<Moment>) => void\n\tcheckOutDate: Maybe<Moment>\n\tsetCheckOutDate: (checkOutDate: Maybe<Moment>) => void\n\tsetModalVisible: (modalVisible: boolean) => void\n}\n\nexport const ListingCreateBookings: FC<IProps> = ({\n\thost,\n\tbookingsIndex,\n\tprice,\n\tcheckInDate,\n\tcheckOutDate,\n\tsetCheckInDate,\n\tsetCheckOutDate,\n\tsetModalVisible,\n}) => {\n\tconst { viewer } = useViewer()\n\n\tconst bookingsIndexJSON: IBookingsIndex = JSON.parse(bookingsIndex)\n\n\tconst dateIsBooked = (date: Moment): boolean => {\n\t\tconst year = moment(date).year()\n\t\tconst month = moment(date).month()\n\t\tconst day = moment(date).date()\n\n\t\treturn get(bookingsIndexJSON, `${year}.${month}.${day}`, false) as boolean\n\t}\n\n\tconst disabledDate = (date: Moment) => {\n\t\treturn date.isBefore(moment().endOf('day')) || dateIsBooked(date)\n\t}\n\n\tconst viewerIsHost = viewer.id === host.id\n\tconst checkInInputDisabled = !viewer.id || viewerIsHost || !host.hasWallet\n\n\tconst verifyAndSetCheckOutDate = (selectedCheckOutDate: Maybe<Moment>) => {\n\t\tif (checkInDate && selectedCheckOutDate) {\n\t\t\tif (moment(selectedCheckOutDate).isBefore(moment(checkInDate, 'days'))) {\n\t\t\t\treturn displayErrorMessage(\n\t\t\t\t\t\"You can't book date of check out to be prior to check in.\"\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tlet dateCursor = checkInDate\n\t\t\twhile (moment(dateCursor).isBefore(selectedCheckOutDate, 'days')) {\n\t\t\t\tdateCursor = moment(dateCursor).add(1, 'days')\n\n\t\t\t\tif (dateIsBooked(dateCursor)) {\n\t\t\t\t\treturn displayErrorMessage(\n\t\t\t\t\t\t\"You can't book a period of time that overlaps existing booking. Pleas try again!\"\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetCheckOutDate(selectedCheckOutDate)\n\t}\n\n\tlet buttonMessage = \"You won't be charged yet\"\n\tif (viewerIsHost) buttonMessage = \"You can't book your own listing\"\n\telse if (!viewer.id)\n\t\tbuttonMessage = 'You have to be signed in to book a listing!'\n\telse if (!host.hasWallet)\n\t\tbuttonMessage =\n\t\t\t\"The host was disconnected from Stripe thus won't be able to receive payments\"\n\n\treturn (\n\t\t<div className='listing-booking'>\n\t\t\t<Card className='listing-booking__card'>\n\t\t\t\t<div>\n\t\t\t\t\t<Paragraph>\n\t\t\t\t\t\t<Title level={2} className='listing-booking__card-title'>\n\t\t\t\t\t\t\t{formatListingPrice(price)} <span>/day</span>\n\t\t\t\t\t\t</Title>\n\t\t\t\t\t</Paragraph>\n\t\t\t\t\t<Divider />\n\t\t\t\t</div>\n\t\t\t\t<div className='listing-booking__card-date-picker'>\n\t\t\t\t\t<Paragraph strong>Check In</Paragraph>\n\t\t\t\t\t<DatePicker\n\t\t\t\t\t\tformat={DATE_FORMAT}\n\t\t\t\t\t\tvalue={checkInDate}\n\t\t\t\t\t\tshowToday={false}\n\t\t\t\t\t\tdisabledDate={disabledDate}\n\t\t\t\t\t\tdisabled={checkInInputDisabled}\n\t\t\t\t\t\tonChange={setCheckInDate}\n\t\t\t\t\t\tonOpenChange={() => setCheckOutDate(null)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='listing-booking__card-date-picker'>\n\t\t\t\t\t<Paragraph strong>Check Out</Paragraph>\n\t\t\t\t\t<DatePicker\n\t\t\t\t\t\tformat={DATE_FORMAT}\n\t\t\t\t\t\tvalue={checkOutDate}\n\t\t\t\t\t\tshowToday={false}\n\t\t\t\t\t\tdisabledDate={disabledDate}\n\t\t\t\t\t\tdisabled={checkInInputDisabled || !checkInDate}\n\t\t\t\t\t\tonChange={verifyAndSetCheckOutDate}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={checkInInputDisabled || !checkInDate || !checkOutDate}\n\t\t\t\t\tsize='large'\n\t\t\t\t\ttype='primary'\n\t\t\t\t\tclassName='listing-booking__card-cta'\n\t\t\t\t\tonClick={() => setModalVisible(true)}\n\t\t\t\t>\n\t\t\t\t\tRequest to book!\n\t\t\t\t</Button>\n\t\t\t\t<Text type='secondary' mark>\n\t\t\t\t\t{buttonMessage}\n\t\t\t\t</Text>\n\t\t\t</Card>\n\t\t</div>\n\t)\n}\n","import { EnvironmentOutlined } from '@ant-design/icons';\nimport { Avatar, Divider, Tag, Typography } from 'antd';\nimport React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { iconColor } from 'utils';\n\nconst { Title, Paragraph } = Typography\n\ninterface IProps {\n\tlisting: IListing\n}\n\nexport const ListingDetails: FC<IProps> = ({ listing }) => {\n\tconst {\n\t\taddress,\n\t\ttype,\n\t\tcity,\n\t\tdescription,\n\t\thost,\n\t\timage,\n\t\tnumOfGuests,\n\t\ttitle,\n\t} = listing\n\n\treturn (\n\t\t<div className='listing-details'>\n\t\t\t<div\n\t\t\t\tclassName='listing-details__image'\n\t\t\t\tstyle={{ background: `url(${image})` }}\n\t\t\t></div>\n\t\t\t<div className='listing-details__information'>\n\t\t\t\t<Paragraph\n\t\t\t\t\ttype='secondary'\n\t\t\t\t\tellipsis\n\t\t\t\t\tclassName='listing-details__city-address'\n\t\t\t\t>\n\t\t\t\t\t<Link to={`/listings/${city}`}>\n\t\t\t\t\t\t<EnvironmentOutlined style={{ color: iconColor }} /> {city}\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Divider type='vertical' />\n\t\t\t\t\t{address}\n\t\t\t\t</Paragraph>\n\t\t\t\t<Title level={3} className='listing-details__title'>\n\t\t\t\t\t{title}\n\t\t\t\t</Title>\n\t\t\t</div>\n\t\t\t<Divider />\n\t\t\t<div className='listing-details__section'>\n\t\t\t\t<Link to={`/user/${host.id}`}>\n\t\t\t\t\t<Avatar src={host.avatar} size={64} />\n\t\t\t\t\t<Title level={2} className='listing-details__host-name'>\n\t\t\t\t\t\t{host.name}\n\t\t\t\t\t</Title>\n\t\t\t\t</Link>\n\t\t\t</div>\n\n\t\t\t<Divider />\n\n\t\t\t<div className='listing-section__section'>\n\t\t\t\t<Title level={4}>About this space</Title>\n\t\t\t\t<div className='listing-details__about-items'>\n\t\t\t\t\t<Tag color='magenta'>{type}</Tag>\n\t\t\t\t\t<Tag color='magenta'>{numOfGuests} Guests</Tag>\n\t\t\t\t</div>\n\t\t\t\t<Paragraph ellipsis={{ rows: 3, expandable: true }}>\n\t\t\t\t\t{description}\n\t\t\t\t</Paragraph>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import { useQuery } from '@apollo/client';\nimport { Col, Layout, Row } from 'antd';\nimport { ErrorBanner, PageSkeleton } from 'Components';\nimport { LISTING } from 'graphql/queries';\nimport { get } from 'lodash';\nimport { Moment } from 'moment';\nimport React, { FC, useState } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { Elements } from 'react-stripe-elements';\nimport {\n\tListingBookings,\n\tListingCreateBookings,\n\tListingDetails,\n\tWrappedListingCreateBookingModal as ListingCreateBookingModal\n} from './components';\n\nconst { Content } = Layout\n\ninterface IMatchParams {\n\tid: string\n}\n\ninterface IProps extends RouteComponentProps<IMatchParams> {}\n\nconst PAGE_LIMIT = 3\n\nexport const Listing: FC<IProps> = ({ match }) => {\n\tconst [bookingsPage, setBookingsPage] = useState(1)\n\tconst [modalVisible, setModalVisible] = useState(false)\n\tconst [checkInDate, setCheckInDate] = useState<Moment | null>(null)\n\tconst [checkOutDate, setCheckOutDate] = useState<Moment | null>(null)\n\n\tconst clearBookingData = () => {\n\t\tsetModalVisible(false)\n\t\tsetCheckInDate(null)\n\t\tsetCheckOutDate(null)\n\t}\n\n\tconst handleListingRefetch = async () => {\n\t\tawait refetch()\n\t}\n\n\tconst { data, loading, error, refetch } = useQuery<\n\t\tIListingQuery,\n\t\tIListingQueryVariables\n\t>(LISTING, {\n\t\tvariables: {\n\t\t\tbookingsPage,\n\t\t\tid: match.params.id,\n\t\t\tlimit: PAGE_LIMIT,\n\t\t},\n\t})\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<Content className='listing'>\n\t\t\t\t<PageSkeleton />\n\t\t\t</Content>\n\t\t)\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<Content className='listing'>\n\t\t\t\t<ErrorBanner description=\"This listing may no exist or we've encountered an error. Please try again soon!\" />\n\t\t\t\t<PageSkeleton />\n\t\t\t</Content>\n\t\t)\n\t}\n\n\tconst listing = get(data, 'listing', null)\n\tconst listingBookings = get(listing, 'bookings', null)\n\treturn (\n\t\t<Elements>\n\t\t\t<Content className='listing'>\n\t\t\t\t{listing && checkInDate && checkOutDate && (\n\t\t\t\t\t<ListingCreateBookingModal\n\t\t\t\t\t\tlistingId={listing.id}\n\t\t\t\t\t\tprice={listing.price}\n\t\t\t\t\t\tcheckInDate={checkInDate}\n\t\t\t\t\t\tcheckOutDate={checkOutDate}\n\t\t\t\t\t\tvisible={modalVisible}\n\t\t\t\t\t\tsetVisible={setModalVisible}\n\t\t\t\t\t\tclearBookingData={clearBookingData}\n\t\t\t\t\t\thandleListingRefetch={handleListingRefetch}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<Row gutter={24} justify='space-between'>\n\t\t\t\t\t<Col xs={24} lg={14}>\n\t\t\t\t\t\t{listing && <ListingDetails listing={listing as IListing} />}\n\t\t\t\t\t\t{listingBookings && (\n\t\t\t\t\t\t\t<ListingBookings\n\t\t\t\t\t\t\t\tbookingsPage={bookingsPage}\n\t\t\t\t\t\t\t\tlimit={PAGE_LIMIT}\n\t\t\t\t\t\t\t\tsetBookingsPage={setBookingsPage}\n\t\t\t\t\t\t\t\tlistingBookings={listingBookings as IBookings}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Col>\n\t\t\t\t\t{listing && (\n\t\t\t\t\t\t<Col xs={24} lg={10}>\n\t\t\t\t\t\t\t<ListingCreateBookings\n\t\t\t\t\t\t\t\thost={listing.host as IUser}\n\t\t\t\t\t\t\t\tbookingsIndex={listing.bookingsIndex}\n\t\t\t\t\t\t\t\tcheckInDate={checkInDate}\n\t\t\t\t\t\t\t\tcheckOutDate={checkOutDate}\n\t\t\t\t\t\t\t\tsetCheckInDate={setCheckInDate}\n\t\t\t\t\t\t\t\tsetCheckOutDate={setCheckOutDate}\n\t\t\t\t\t\t\t\tsetModalVisible={setModalVisible}\n\t\t\t\t\t\t\t\tprice={listing.price}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t)}\n\t\t\t\t</Row>\n\t\t\t</Content>\n\t\t</Elements>\n\t)\n}\n","import { useLazyQuery, useMutation } from '@apollo/client'\nimport { Card, Layout, Spin, Typography } from 'antd'\nimport googleLogo from 'assets/images/google_logo.jpg'\nimport { ErrorBanner } from 'Components'\nimport { LOG_IN } from 'graphql/mutations'\nimport { USER_AUTH } from 'graphql/queries'\nimport React, { FC, useEffect, useRef } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { displayErrorMessage, displaySuccessNotification } from 'utils'\nimport { useViewer } from 'ViewerContext'\n\nconst { Content } = Layout\nconst { Text, Title } = Typography\n\nexport const Login: FC = () => {\n\tconst { setViewer } = useViewer()\n\tconst [authorize, authQuery] = useLazyQuery<IAuthUrlQuery>(USER_AUTH)\n\n\tconst [logIn, logInRes] = useMutation<\n\t\tILogInMutation,\n\t\tILogInMutationVariables\n\t>(LOG_IN, {\n\t\tonCompleted: data => {\n\t\t\tif (data && data.logIn) {\n\t\t\t\tsetViewer(data.logIn)\n\t\t\t\twindow.sessionStorage.setItem('token', data.logIn.token!)\n\t\t\t\tdisplaySuccessNotification(\"You've successfully logged in!\")\n\t\t\t}\n\t\t},\n\t})\n\n\tuseEffect(() => {\n\t\tif (authQuery.data) {\n\t\t\twindow.location.href = authQuery.data.authUrl\n\t\t} else if (authQuery.error) {\n\t\t\tdisplayErrorMessage(\"Sorry! We weren't able to log you in.\")\n\t\t}\n\t}, [authQuery.data, authQuery.error])\n\n\tconst logInRef = useRef(logIn)\n\tuseEffect(() => {\n\t\tconst code = new URL(window.location.href).searchParams.get('code')\n\n\t\tif (code) {\n\t\t\tlogInRef.current({ variables: { input: { code } } })\n\t\t}\n\t}, [])\n\n\tif (logInRes.loading) {\n\t\treturn (\n\t\t\t<Content className='log-in'>\n\t\t\t\t<Spin size='large' tip='Logging you in...' />\n\t\t\t</Content>\n\t\t)\n\t}\n\n\tif (logInRes.data && logInRes.data.logIn) {\n\t\tconst { id: viewerId } = logInRes.data.logIn\n\t\treturn <Redirect to={`/user/${viewerId}`} />\n\t}\n\n\tconst logInErrorBannerElement = logInRes.error && (\n\t\t<ErrorBanner message=\"Sorry! We weren't able to log you in.\" />\n\t)\n\n\treturn (\n\t\t<Content className='log-in'>\n\t\t\t{logInErrorBannerElement}\n\t\t\t<Card className='log-in-card'>\n\t\t\t\t<div className='log-in-card__intro'>\n\t\t\t\t\t<Title level={3} className='log-in-card__intro-title'>\n\t\t\t\t\t\t<span role='img' aria-label='wave'>\n\t\t\t\t\t\t\t👋\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Title level={3} className='log-in-card__intro-title'>\n\t\t\t\t\t\tLog in to TinyHouse\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Text>Sign in with Google to start booking available rentals</Text>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tauthorize()\n\t\t\t\t\t}}\n\t\t\t\t\tclassName='log-in-card__google-button'\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tstyle={{ height: 50, width: 50, margin: 0 }}\n\t\t\t\t\t\tsrc={googleLogo}\n\t\t\t\t\t\tclassName='log-in-card__google-button'\n\t\t\t\t\t\talt='Google Logo'\n\t\t\t\t\t/>\n\t\t\t\t\t<span className='log-in-card__google-button-text'>\n\t\t\t\t\t\tSign in with Google\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t<Text type='secondary'>\n\t\t\t\t\tNote: By signing in, you'll be redirected to the Google consent form\n\t\t\t\t\tto sign in with your Google account\n\t\t\t\t</Text>\n\t\t\t</Card>\n\t\t</Content>\n\t)\n}\n","export default \"data:image/jpeg;base64,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\"","import React from 'react'\n\ninterface Props {\n\n}\n\nexport const NotFound = (props: Props) => {\n  return (\n    <div>\n\n    </div>\n  )\n}\n","import { useMutation } from '@apollo/client'\nimport { Avatar, Button, Card, Divider, Tag, Typography } from 'antd'\nimport { DISCONNECT_STRIPE } from 'graphql/mutations'\nimport React, { FC } from 'react'\nimport {\n\tdisplayErrorMessage,\n\tdisplaySuccessNotification,\n\tformatListingPrice,\n} from 'utils'\n\nconst { Paragraph, Text, Title } = Typography\nconsole.log(process.env)\n\nconst stripeAuthUrl = `https://connect.stripe.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_STRIPE_CLIENT_ID}&scope=read_write`\ninterface IProps {\n\tuser: IUser\n\tviewerIsUser: boolean\n\tsetViewer: React.Dispatch<React.SetStateAction<IViewer>>\n\thandleUserRefetch: () => Promise<void>\n}\n\nexport const UserProfile: FC<IProps> = ({\n\tuser,\n\tviewerIsUser,\n\tsetViewer,\n\thandleUserRefetch,\n}) => {\n\tconst [disconnectStripe, { loading }] = useMutation<\n\t\tIDisconnectStripeMutation,\n\t\tIDisconnectStripeMutationVariables\n\t>(DISCONNECT_STRIPE, {\n\t\tonCompleted: data => {\n\t\t\tif (data && data.disconnectStripe) {\n\t\t\t\tsetViewer(viewer => ({\n\t\t\t\t\t...viewer,\n\t\t\t\t\thasWallet: data.disconnectStripe.hasWallet,\n\t\t\t\t}))\n\n\t\t\t\tdisplaySuccessNotification(\n\t\t\t\t\t\"You've successfully disconnected from Stripe\",\n\t\t\t\t\t\"You'll have to reconnect with Stripe to continue to create listings\"\n\t\t\t\t)\n\t\t\t\thandleUserRefetch()\n\t\t\t}\n\t\t},\n\t\tonError: () => {\n\t\t\tdisplayErrorMessage(\n\t\t\t\t\"Sorry! We weren't able to disconnect you from Stripe. Please try again later!\"\n\t\t\t)\n\t\t},\n\t})\n\n\tconst redirectToStripe = () => (window.location.href = stripeAuthUrl)\n\n\tconst additionalDetail = user.hasWallet ? (\n\t\t<>\n\t\t\t<Paragraph>\n\t\t\t\t<Tag color='green'>Stripe Registered</Tag>\n\t\t\t</Paragraph>\n\t\t\t<Paragraph>\n\t\t\t\tIncome Earned:{' '}\n\t\t\t\t<Text strong>\n\t\t\t\t\t{user.income ? formatListingPrice(user.income) : '$0'}\n\t\t\t\t</Text>\n\t\t\t</Paragraph>\n\t\t\t<Button\n\t\t\t\tloading={loading}\n\t\t\t\tonClick={() => disconnectStripe()}\n\t\t\t\ttype='primary'\n\t\t\t\tclassName='user-profile__details-cta'\n\t\t\t>\n\t\t\t\tDisconnect Stripe\n\t\t\t</Button>\n\t\t\t<Paragraph>\n\t\t\t\tBy disconnection, yo won't be able to receive{' '}\n\t\t\t\t<Text strong> any further payments</Text>. This will prevent users from\n\t\t\t\tbooking listings tha ypu might already created.\n\t\t\t</Paragraph>\n\t\t</>\n\t) : (\n\t\t<>\n\t\t\t<Paragraph>\n\t\t\t\tInterested to become a TinyHouse host? Register with your Stripe\n\t\t\t\taccount!\n\t\t\t</Paragraph>\n\t\t\t<Button\n\t\t\t\tonClick={redirectToStripe}\n\t\t\t\ttype='primary'\n\t\t\t\tclassName='user-profile__details-cta'\n\t\t\t>\n\t\t\t\tConnect with Stripe\n\t\t\t</Button>\n\t\t\t<Paragraph type='secondary'>\n\t\t\t\tTinyHouse uses{' '}\n\t\t\t\t<a\n\t\t\t\t\thref='https://stripe.com/en-US/connect'\n\t\t\t\t\ttarget='blank'\n\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t>\n\t\t\t\t\tStripe\n\t\t\t\t</a>{' '}\n\t\t\t\tto help transfer your money.\n\t\t\t</Paragraph>\n\t\t</>\n\t)\n\n\tconst additionalDetailSection = viewerIsUser && (\n\t\t<>\n\t\t\t<Divider />\n\t\t\t<div className='user-profile__details'>\n\t\t\t\t<Title level={4}>Additional Details</Title>\n\t\t\t\t{additionalDetail}\n\t\t\t</div>\n\t\t</>\n\t)\n\n\treturn (\n\t\t<div className='user-profile'>\n\t\t\t<Card className='user-profile__card'>\n\t\t\t\t<div className='user-profile__avatar'>\n\t\t\t\t\t<Avatar size={100} src={user.avatar} />\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\t\t\t\t<div className='user-profile__details'>\n\t\t\t\t\t<Title level={4}>Details</Title>\n\t\t\t\t\t<Paragraph>\n\t\t\t\t\t\tName: <Text strong>{user.name}</Text>\n\t\t\t\t\t</Paragraph>\n\t\t\t\t\t<Paragraph>\n\t\t\t\t\t\tContact: <Text strong>{user.contact}</Text>\n\t\t\t\t\t</Paragraph>\n\t\t\t\t</div>\n\t\t\t\t{additionalDetailSection}\n\t\t\t</Card>\n\t\t</div>\n\t)\n}\n","import { List, Typography } from 'antd';\nimport { ListingCard } from 'Components/ListingCard';\nimport { get } from 'lodash';\nimport React, { FC } from 'react';\n\nconst { Paragraph, Text, Title } = Typography\n\ninterface IProps {\n\tuserBookings: IBookings\n\tbookingsPage: number\n\tsetBookingsPage: (page: number) => void\n\tlimit: number\n}\n\nexport const UserBookings: FC<IProps> = ({\n\tbookingsPage,\n\tlimit,\n\tsetBookingsPage,\n\tuserBookings,\n}) => {\n\tconst total = get(userBookings, 'total', null)\n\tconst result = get(userBookings, 'result', null)\n\n\tconst userBookingsList = userBookings && (\n\t\t<List\n\t\t\tgrid={{\n\t\t\t\tgutter: 8,\n\t\t\t\txs: 1,\n\t\t\t\tsm: 2,\n\t\t\t\tlg: 4,\n\t\t\t}}\n\t\t\tdataSource={result || undefined}\n\t\t\tlocale={{ emptyText: \"You haven't made any bookings!\" }}\n\t\t\tpagination={{\n\t\t\t\tposition: 'top',\n\t\t\t\tcurrent: bookingsPage,\n\t\t\t\ttotal: total || undefined,\n\t\t\t\tdefaultPageSize: limit,\n\t\t\t\thideOnSinglePage: true,\n\t\t\t\tshowLessItems: true,\n\t\t\t\tonChange: setBookingsPage,\n\t\t\t}}\n\t\t\trenderItem={userBooking => {\n\t\t\t\tconst bookingHistory = (\n\t\t\t\t\t<div className='user-booking__booking-history'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\tCheck in: <Text strong>{userBooking.checkIn}</Text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\tCheck out: <Text strong>{userBooking.checkOut}</Text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\n\t\t\t\treturn (\n\t\t\t\t\t<List.Item>\n\t\t\t\t\t\t{bookingHistory}\n\t\t\t\t\t\t<ListingCard listing={userBooking.listing} />\n\t\t\t\t\t</List.Item>\n\t\t\t\t)\n\t\t\t}}\n\t\t/>\n\t)\n\n\treturn userBookingsList ? (\n\t\t<div className='user-bookings'>\n\t\t\t<Title level={4} className='user-bookings__title'>\n\t\t\t\tBookings\n\t\t\t</Title>\n\t\t\t<Paragraph className='user-bookings__description'>\n\t\t\t\tThis section highlights the bookings you've made, and the\n\t\t\t\tcheck-in/check-out dates associated with that bookings.\n\t\t\t</Paragraph>\n\t\t\t{userBookingsList}\n\t\t</div>\n\t) : null\n}\n","import { List, Typography } from 'antd';\nimport React, { FC } from 'react';\nimport { ListingCard } from '../../../Components';\n\nconst { Paragraph, Title } = Typography\n\ninterface IProps {\n\tuserListings: IListings\n\tlistingsPage: number\n\tsetListingsPage: (page: number) => void\n\tlimit: number\n}\n\nexport const UserListings: FC<IProps> = ({\n\tlimit,\n\tlistingsPage,\n\tsetListingsPage,\n\tuserListings,\n}) => {\n\tconst { result, total } = userListings\n\n\tconst userListingsList = (\n\t\t<List\n\t\t\tgrid={{\n\t\t\t\tgutter: 8,\n\t\t\t\tcolumn: 4,\n\t\t\t\txs: 1,\n\t\t\t\tsm: 2,\n\t\t\t\tlg: 4,\n\t\t\t}}\n\t\t\tdataSource={result}\n\t\t\tlocale={{ emptyText: \"User doesn't have any listings yet\" }}\n\t\t\tpagination={{\n\t\t\t\tposition: 'top',\n\t\t\t\tcurrent: listingsPage,\n\t\t\t\ttotal,\n\t\t\t\tdefaultPageSize: limit,\n\t\t\t\thideOnSinglePage: true,\n\t\t\t\tshowLessItems: true,\n\t\t\t\tonChange: setListingsPage,\n\t\t\t}}\n\t\t\trenderItem={userListing => (\n\t\t\t\t<List.Item>\n\t\t\t\t\t<ListingCard listing={userListing} />\n\t\t\t\t</List.Item>\n\t\t\t)}\n\t\t/>\n\t)\n\n\treturn (\n\t\t<div className='user-listings'>\n\t\t\t<Title level={4} className='user-listings__title'>\n\t\t\t\tListings\n\t\t\t</Title>\n\t\t\t<Paragraph className='user-listings__description'>\n\t\t\t\tThis section highlights the listings this user currently hosts and has\n\t\t\t\tmade available for bookings.\n\t\t\t</Paragraph>\n\t\t\t{userListingsList}\n\t\t</div>\n\t)\n}\n","import { useQuery } from '@apollo/client'\nimport { Col, Row, Layout } from 'antd'\nimport { ErrorBanner, PageSkeleton } from 'Components'\nimport { USER } from 'graphql/queries'\nimport { get } from 'lodash'\nimport React, { FC, useState } from 'react'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { useViewer } from 'ViewerContext'\nimport { UserBookings, UserListings, UserProfile } from './components'\n\nconst { Content } = Layout\nconst PAGE_LIMIT = 4\n\ninterface IMatchParams {\n\tid: string\n}\n\ninterface IProps extends RouteComponentProps<IMatchParams> {}\n\nexport const User: FC<IProps> = ({ match }) => {\n\tconst { viewer, setViewer } = useViewer()\n\tconst [listingsPage, setListingsPage] = useState(1)\n\tconst [bookingsPage, setBookingsPage] = useState(1)\n\n\tconst { data, loading, error, refetch } = useQuery<IQueryUserArgs>(USER, {\n\t\tvariables: {\n\t\t\tid: match.params.id,\n\t\t\tbookingsPage,\n\t\t\tlistingsPage,\n\t\t\tlimit: PAGE_LIMIT,\n\t\t},\n\t})\n\n\tconst handleUserRefetch = async () => {\n\t\tawait refetch()\n\t}\n\n\tconst stripeError = new URL(window.location.href).searchParams.get(\n\t\t'stripe_error'\n\t)\n\tconst stripeErrorBanner = stripeError && (\n\t\t<ErrorBanner description='We had an issue connecting with Stripe. Please try again soon.' />\n\t)\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<Content className='user'>\n\t\t\t\t<PageSkeleton />\n\t\t\t</Content>\n\t\t)\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<Content className='user'>\n\t\t\t\t<ErrorBanner description='This user may not exist.' />\n\t\t\t\t<PageSkeleton />\n\t\t\t</Content>\n\t\t)\n\t}\n\n\tconst user = get(data, 'user', null)\n\tconst viewerIsUser = viewer.id === user?.id\n\n\tconst userListings = get(user, 'listings', null)\n\tconst userBookings = get(user, 'bookings', null)\n\n\tconst userListingsElement = userListings && (\n\t\t<UserListings\n\t\t\tsetListingsPage={setListingsPage}\n\t\t\tlistingsPage={listingsPage}\n\t\t\tuserListings={userListings as IListings}\n\t\t\tlimit={PAGE_LIMIT}\n\t\t/>\n\t)\n\n\tconst userBookingsElement = userBookings && (\n\t\t<UserBookings\n\t\t\tsetBookingsPage={setBookingsPage}\n\t\t\tbookingsPage={bookingsPage}\n\t\t\tuserBookings={userBookings as IBookings}\n\t\t\tlimit={PAGE_LIMIT}\n\t\t/>\n\t)\n\n\tconst userProfileElement = user ? (\n\t\t<UserProfile\n\t\t\tviewerIsUser={viewerIsUser}\n\t\t\tsetViewer={setViewer}\n\t\t\thandleUserRefetch={handleUserRefetch}\n\t\t\tuser={user as IUser}\n\t\t/>\n\t) : null\n\n\treturn (\n\t\t<Content className='user'>\n\t\t\t{stripeErrorBanner}\n\t\t\t<Row gutter={12} justify='space-between'>\n\t\t\t\t<Col xs={24}>{userProfileElement}</Col>\n\t\t\t\t<Col xs={24}>\n\t\t\t\t\t{userListingsElement}\n\t\t\t\t\t{userBookingsElement}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Content>\n\t)\n}\n","import { useMutation } from '@apollo/client'\nimport { Affix, Layout, Spin } from 'antd'\nimport { AppHeader, AppHeaderSkeleton, ErrorBanner } from 'Components'\nimport { LOG_IN } from 'graphql/mutations'\nimport {\n\tHome,\n\tHost,\n\tListing,\n\tListings,\n\tLogin,\n\tNotFound,\n\tStripe,\n\tUser,\n} from 'pages'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { Route, Switch, useHistory } from 'react-router-dom'\nimport { displayErrorMessage } from 'utils'\nimport { ViewerProvider } from 'ViewerContext'\n\nconst initialViewer: IViewer = {\n\tid: null,\n\ttoken: null,\n\tavatar: null,\n\thasWallet: null,\n\tdidRequest: false,\n}\n\nexport const App = () => {\n\tconst history = useHistory()\n\tconst [viewer, setViewer] = useState<IViewer>(initialViewer)\n\tconst [, setSearchQuery] = useState<string>('')\n\n\tconst [logIn, { error }] = useMutation<\n\t\tILogInMutation,\n\t\tILogInMutationVariables\n\t>(LOG_IN, {\n\t\tonCompleted: data => {\n\t\t\tif (data && data.logIn) {\n\t\t\t\tsetViewer(data.logIn)\n\n\t\t\t\tdata.logIn.token\n\t\t\t\t\t? window.sessionStorage.setItem('token', data.logIn.token)\n\t\t\t\t\t: window.sessionStorage.removeItem('token')\n\t\t\t}\n\t\t},\n\t})\n\n\tconst logInRef = useRef(logIn)\n\tuseEffect(() => {\n\t\tlogInRef.current()\n\t}, [])\n\n\tconst onSearch = (query: string) => {\n\t\tquery = query.trim()\n\t\tif (query) {\n\t\t\thistory.push(`/listings/${query}`)\n\t\t\tsetSearchQuery(query)\n\t\t} else {\n\t\t\tdisplayErrorMessage('Please enter a valid search!')\n\t\t}\n\t}\n\n\tif (!viewer.didRequest && !error) {\n\t\treturn (\n\t\t\t<Layout className='app-skeleton'>\n\t\t\t\t<AppHeaderSkeleton />\n\t\t\t\t<div className='app-skeleton__spin-section'>\n\t\t\t\t\t<Spin size='large' tip='Launching TinyHouse' />\n\t\t\t\t</div>\n\t\t\t</Layout>\n\t\t)\n\t}\n\n\tconst logInErrorBannerElement = error && (\n\t\t<ErrorBanner description=\"We weren't able to verify if you were logged in. Please try again later.\" />\n\t)\n\n\treturn (\n\t\t\t<ViewerProvider value={{ viewer, setViewer }}>\n\t\t\t\t<Layout id='app'>\n\t\t\t\t\t{logInErrorBannerElement}\n\t\t\t\t\t<Affix offsetTop={0} className='app__affix-header'>\n\t\t\t\t\t\t<AppHeader onSearch={onSearch} />\n\t\t\t\t\t</Affix>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path='/' render={() => <Home onSearch={onSearch} />} />\n\t\t\t\t\t\t<Route path='/host' component={Host} />\n\t\t\t\t\t\t<Route path='/listing/:id' component={Listing} />\n\t\t\t\t\t\t<Route path='/listings/:location?' component={Listings} />\n\t\t\t\t\t\t<Route exact path='/login' component={Login} />\n\t\t\t\t\t\t<Route exact path='/stripe' component={Stripe} />\n\t\t\t\t\t\t<Route path='/user/:id' component={User} />\n\t\t\t\t\t\t<Route component={NotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Layout>\n\t\t\t</ViewerProvider>\n\t)\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n\tApolloClient,\n\tApolloLink,\n\tApolloProvider,\n\tconcat,\n\tHttpLink,\n\tInMemoryCache\n} from '@apollo/client';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { StripeProvider } from 'react-stripe-elements'\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './styles/index.css';\n\nconst httpLink = new HttpLink({ uri: '/api' })\nconst authMiddleware = new ApolloLink((operation, forward) => {\n\tconst token = window.sessionStorage.getItem('token')\n\toperation.setContext({\n\t\theaders: {\n\t\t\t'X-CSRF-TOKEN': token || '',\n\t\t},\n\t})\n\n\treturn forward(operation)\n})\n\nconst client = new ApolloClient({\n\tlink: concat(authMiddleware, httpLink),\n\tcache: new InMemoryCache(),\n})\n\nReactDOM.render(\n\t<StripeProvider\n\t\tapiKey={process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY as string}\n\t>\n\t\t<ApolloProvider client={client}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<App />\n\t\t\t</BrowserRouter>\n\t\t</ApolloProvider>\n\t</StripeProvider>,\n\tdocument.getElementById('root')\n)\n\nreportWebVitals()\n"],"sourceRoot":""}